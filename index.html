
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <script src="https://telegram.org/js/telegram-web-app.js?1"></script>
<style>
        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-weight: bold;
margin-bottom: 5px;
        }

        .form-group select, .form-group input[type="text"], .form-group input[type="range"] {
            width: 100%;
            padding: 10px;
            box-sizing: border-box; /* –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç —à–∏—Ä–∏–Ω—É —ç–ª–µ–º–µ–Ω—Ç–∞ –≤–∫–ª—é—á–∞—è padding */
        }

        .button {
            background-color: #007bff;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>  
  <div class="container">
    <h2>–§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ —É—Å–ª—É–≥–∏</h2>
    <form id="order-form">
      <div class="form-group">
        <label for="category">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —É—Å–ª—É–≥–∏:</label>
        <select id="category" name="category">
          <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ...</option>
        </select>
      </div>
      <div class="form-group">
        <label for="service">–í—ã–±–µ—Ä–∏—Ç–µ —É—Å–ª—É–≥—É:</label>
        <select id="service" name="service">
          <option value="" disabled selected>–í—ã–±–µ—Ä–∏—Ç–µ...</option>
        </select>
      </div>
      <div class="form-group">
        <label for="type">–¢–∏–ø —É—Å–ª—É–≥–∏:</label>
        <select id="type" name="type"></select>
      </div>
      <div class="form-group" id="description-group" style="display: none;">
        <label for="description">–û–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏:</label>
        <p id="description"></p>
      </div>
      <div class="form-group" id="link-group">
        <label for="link">–°—Å—ã–ª–∫–∞ –Ω–∞ —É—Å–ª—É–≥—É:</label>
        <input type="text" id="link" name="link" required>
      </div>
      <p id="result"></p>
<div class="form-group">
  <label for="quantity">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (min <span id="quantityMin">1</span>, max <span id="quantityMax">100</span>):</label>
  <input type="range" id="quantity" name="quantity" min="1" max="50000" step="10" value="1">
  <input type="text" id="quantityValue" name="quantityValue" value="1" readonly>
</div>
            <div class="form-group">

                <label for="price">–¶–µ–Ω–∞: <span id="priceValue">0</span> ‚ÇΩ</label> 
            </div>
      <div class="form-group">
        <button class="button" type="submit">–ó–∞–∫–∞–∑–∞—Ç—å</button>
      </div>
    </form>
  </div>

  <script>
const tg = window.Telegram.WebApp;

tg.expand();
    
const categoriesData = {
  "category1": {
    name: "üì® Telegram",
    services: [
      {
        value: "service1",
        label: "üë§ –ü–æ–¥–ø–∏—Å—á–∏–∫–∏",
        types: [
          {
            value: "529",
            label: "TG üë§ –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ (–ë–µ–∑ –æ—Ç–ø–∏—Å–æ–∫)",
            description: `üì® Telegram –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –±–µ–∑ –æ—Ç–ø–∏—Å–æ–∫
<br>ü§µ‚Äç‚ôÄ –ö–∞—á–µ—Å—Ç–≤–æ: MIX –∞–∫–∫–∞—É–Ω—Ç—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö —Å—Ç—Ä–∞–Ω, —á–∞—Å—Ç—å RU<br>
üõ° –ì–∞—Ä–∞–Ω—Ç–∏—è<br>
‚åõÔ∏è –ó–∞–ø—É—Å–∫ —É—Å–ª—É–≥–∏: –¥–æ 2 —á–∞—Å–æ–≤<br>
üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: –¥–æ 5000-20000 –≤ —Å—É—Ç–∫–∏<br>
üîª –°–ø–∏—Å–∞–Ω–∏—è: –≤ —Ä–∞–º–∫–∞—Ö –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –¥–æ 5% –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π<br><br>
üîó –£–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É<br>
–ü—Ä–∏–º–µ—Ä:<br>
https://t.me/CHANNELNAME<br><br>
‚ñ´Ô∏è –í–æ–∑–º–æ–∂–Ω–∞ –Ω–∞–∫—Ä—É—Ç–∫–∞ –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã!<br>
‚ñ´Ô∏è –ë–µ–∑ —Å–ø–∏—Å–∞–Ω–∏–π - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–ø–∏—Å–∞–Ω–∏–π –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π<br>
‚ñ´Ô∏è –ó–∞–∫–∞–∑—ã –Ω–∞ –∫–∞–Ω–∞–ª—ã 18+ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω—ã`,
            rules: ["https://t.me/"],
price: 0.23,
minQuantity: 500,
 maxQuantity: 50000,
          },
          {
            value: "572",
            label: "TG üá∑üá∫ –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ RU (–ë–µ–∑ –æ—Ç–ø–∏—Å–æ–∫)",
            description: `üì® –¢–µ–ª–µ–≥—Ä–∞–º –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ RU
<br>‚≠êÔ∏è –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–∞—è —É—Å–ª—É–≥–∞
<br>ü§µ‚Äç‚ôÄ –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ —Å –†—É—Å—Å–∫–∏–º–∏ –∏–º–µ–Ω–∞–º–∏ –∏ –∞–≤–∞—Ç–∞—Ä–∫–∞–º–∏
<br>üõ° –ì–∞—Ä–∞–Ω—Ç–∏—è
<br>‚åõÔ∏è –ó–∞–ø—É—Å–∫ —É—Å–ª—É–≥–∏: –≤ —Ç–µ—á–µ–Ω–∏–µ 0-1 —á–∞—Å–∞
<br>üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: –¥–æ 5000 –≤ —Å—É—Ç–∫–∏
<br>üîª 30 –¥–Ω–µ–π –±–µ–∑ —Å–ø–∏—Å–∞–Ω–∏–π
<br><br>üîó–£–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É
<br>–ü—Ä–∏–º–µ—Ä:
<br>https://t.me/CHANNELNAME
<br><br>‚ñ´Ô∏è –î–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–≥–ª–∞—Å–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è –∑–∞–∫–∞–∑–∞ –ø–æ –¥–∞–Ω–Ω–æ–π —É—Å–ª—É–≥–µ - —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
<br>‚ñ´Ô∏è –ó–∞–∫–∞–∑—ã –Ω–∞ –∫–∞–Ω–∞–ª—ã 18+, —Å–∫–∞–º, –Ω–∞—Ä–∫–æ—Ç–∏–∫–∏, –ø–æ—Ä–Ω–æ, –ø–æ–ª–∏—Ç–∏–∫–∞, –≤–µ–±–∫–∞–º –∏ —Ç–¥ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω—ã`,
            rules: ["https://t.me/"],
price: 0.20,
minQuantity: 10,
 maxQuantity: 30000,
          },
          {
            value: "432",
            label: "TG üîû –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ RU (–ë–µ–∑ –æ—Ç–ø–∏—Å–æ–∫)",
            description: `üì® Telegram –ø–æ–¥–ø–∏—Å—á–∏–∫–∏
<br>ü§µ –ü–æ–¥–ø–∏—Å—á–∏–∫–∏: –ë–æ—Ç—ã —Ä–∞–∑–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞
<br>‚åõÔ∏è –ó–∞–ø—É—Å–∫ —É—Å–ª—É–≥–∏: –≤ —Ç–µ—á–µ–Ω–∏–µ 0-24 —á–∞—Å–æ–≤
<br>üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: –î–æ 5000 –≤ —Å—É—Ç–∫–∏
<br>üîª –°–ø–∏—Å–∞–Ω–∏—è: –í–æ–∑–º–æ–∂–Ω—ã<br><br>

üîó –£–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É
<br>–ü—Ä–∏–º–µ—Ä:
<br>https://t.me/CHANNELNAME<br><br>

‚ñ´Ô∏è –†–∞–∑—Ä–µ—à–µ–Ω–∞ –Ω–∞–∫—Ä—É—Ç–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª—ã 18+`,
            rules: ["https://t.me/"],
price: 0.25,
minQuantity: 500,
 maxQuantity: 100000,
          },
          {
            value: "554",
            label: "TG ‚è≥ –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ (–ù–∞ 3 –¥–Ω—è)",
            description: `üì® Telegram –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –Ω–∞ 3 –¥–Ω—è<br>
ü§µ‚Äç‚ôÄ –ö–∞—á–µ—Å—Ç–≤–æ: –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ –æ—Ñ—Ñ–µ—Ä—ã –∏ –±–æ—Ç—ã —Ä–∞–∑–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞<br>
üõ° –ì–∞—Ä–∞–Ω—Ç–∏—è<br>
‚åõÔ∏è –ó–∞–ø—É—Å–∫ —É—Å–ª—É–≥–∏: –¥–æ 6 —á–∞—Å–æ–≤<br>
üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: –¥–æ 20000 –≤ —Å—É—Ç–∫–∏<br>
üîª –°–ø–∏—Å–∞–Ω–∏—è: –¥–æ 100% —á–µ—Ä–µ–∑ 3 –¥–Ω—è<br><br>

üîó –£–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É<br>
–ü—Ä–∏–º–µ—Ä:<br>
https://t.me/CHANNELNAME<br><br>

‚ñ´Ô∏è –û–ß–ï–ù–¨ –í–ê–ñ–ù–û - –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∫–∞–Ω–∞–ª–µ –Ω–∞ 3 –¥–Ω—è! –ü–æ—Ç–æ–º –æ–Ω–∏ –æ—Ç–ø–∏—à—É—Ç—Å—è. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ —ç—Ç–æ –ø—Ä–∏ –∑–∞–∫–∞–∑–µ. –ü—Ä–µ—Ç–µ–Ω–∑–∏–∏ –ø—Ä–∏ –æ—Ç–ø–∏—Å–∫–∞—Ö –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è!<br>
‚ñ´Ô∏è –ù–ê–ö–†–£–¢–ö–ê –ù–ê –ù–ï–î–ê–í–ù–û –°–û–ó–î–ê–ù–ù–´–ô –ö–ê–ù–ê–õ –ú–û–ñ–ï–¢ –ü–†–ò–í–ï–°–¢–ò –ö –ë–ê–ù–£ –ö–ê–ù–ê–õ–ê`,
            rules: ["https://t.me/"],
price: 0.05,
minQuantity: 100,
 maxQuantity: 10000,
          },
          {
            value: "852",
            label: "TG ‚ôªÔ∏è –ü–æ–¥–ø–∏—Å—á–∏–∫–∏ (–ì–∞—Ä–∞–Ω—Ç–∏—è 90 –¥–Ω–µ–π)",
            description: `üì® Telegram –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ –±—ã—Å—Ç—Ä—ã–µ<br>
ü§µ‚Äç‚ôÄ –ö–∞—á–µ—Å—Ç–≤–æ: –û—Ñ—Ñ–µ—Ä—ã –∏ –±–æ—Ç—ã —Ä–∞–∑–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞<br>
üõ° –ì–∞—Ä–∞–Ω—Ç–∏—è<br>
‚åõÔ∏è –ó–∞–ø—É—Å–∫ —É—Å–ª—É–≥–∏: –≤ —Ç–µ—á–µ–Ω–∏–∏ 12 —á–∞—Å–æ–≤<br>
üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: –¥–æ 5000 –≤ —Å—É—Ç–∫–∏<br>
üîª –°–ø–∏—Å–∞–Ω–∏—è: –≤ —Ä–∞–º–∫–∞—Ö –ø–æ–≥—Ä–µ—à–Ω–æ—Å—Ç–∏ –¥–æ 5% –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –¥–Ω–µ–π<br>
‚ôªÔ∏è –ê–≤—Ç–æ–≤–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ —Ç–µ—á–µ–Ω–∏–∏ 90 –¥–Ω–µ–π<br><br>

üîó –£–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É<br>
–ü—Ä–∏–º–µ—Ä:<br>
https://t.me/CHANNELNAME<br><br>

‚ñ´Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –≥—Ä—É–ø–ø–µ/–∫–∞–Ω–∞–ª—É: –æ—Ç 100 –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –≤ –≥—Ä—É–ø–ø–µ, –æ—Ç 5 –ø–æ—Å—Ç–æ–≤. –ù–∞–∫—Ä—É—Ç–∫–∞ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –Ω–∞ –∫–∞–Ω–∞–ª—ã —Å–æ —Å—Ç—Ä–∞–Ω–Ω—ã–º–∏/–Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏. –¢–∞–∫–∂–µ –¥–ª—è —É—Å–ª—É–≥–∏ –¥–µ–π—Å—Ç–≤—É—é—Ç —Å—Ç–æ–ø-—Å–ª–æ–≤–∞.<br>
‚ñ´Ô∏è –í–æ–∑–º–æ–∂–Ω–∞ –Ω–∞–∫—Ä—É—Ç–∫–∞ –Ω–∞ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã<br>
‚ñ´Ô∏è –ó–∞–∫–∞–∑—ã –Ω–∞ –∫–∞–Ω–∞–ª—ã 18+ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ç–º–µ–Ω–µ–Ω—ã`,
            rules: ["https://t.me/"],
price: 0.14,
minQuantity: 10,
 maxQuantity: 10000,
          },
          {
            value: "829",
            label: "ü§ñ TG –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤ –±–æ—Ç (–ö–ª–∏–∫–∏ –Ω–∞ —Å—Ç–∞—Ä—Ç)",
            description: `üì® Telegram –∫–ª–∏–∫–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É start –≤ –±–æ—Ç–µ<br>
ü§µ‚Äç‚ôÄ –ö–∞—á–µ—Å—Ç–≤–æ: –í—ã—Å–æ–∫–æ–µ, –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ<br>
üõ° –ì–∞—Ä–∞–Ω—Ç–∏—è<br>
‚åõÔ∏è –ó–∞–ø—É—Å–∫ —É—Å–ª—É–≥–∏: –≤ —Ç–µ—á–µ–Ω–∏–∏ 12 —á–∞—Å–æ–≤<br>
üöÄ –°–∫–æ—Ä–æ—Å—Ç—å: –¥–æ 5000 –≤ —Å—É—Ç–∫–∏<br>
üîª –°–ø–∏—Å–∞–Ω–∏—è: –≤–æ–∑–º–æ–∂–Ω—ã<br><br>

üîó –£–∫–∞–∑—ã–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç<br>
–ü—Ä–∏–º–µ—Ä:<br>
https://t.me/NAMEBOT<br><br>

‚ñ´Ô∏è –ü—Ä–∏—Ç–µ–Ω–∑–∏–∏ –ø–æ –¥–∞–Ω–Ω–æ–π —É—Å–ª—É–≥–µ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç—Å—è`,
            rules: ["https://t.me/"],
price: 0.23,
minQuantity: 10,
 maxQuantity: 10000,
          },
          // ... (–¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã)
        ],
      },
      // ... (–¥—Ä—É–≥–∏–µ —É—Å–ª—É–≥–∏)
    ],
  },
  "category2": {
    name: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è 2",
    services: [
      {
        value: "service4",
        label: "–£—Å–ª—É–≥–∞ 4",
        types: [
          {
            value: "type10",
            label: "–¢–∏–ø 10",
            description: "–û–ø–∏—Å–∞–Ω–∏–µ<br> –¢–∏–ø–∞ 10</br> –¥–ª—è –£—Å–ª—É–≥–∏ 4 –≤ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ 2.",
            rules: ["https://example3.com"],
          },
          {
            value: "type11",
            label: "–¢–∏–ø 11",
            description: "–û–ø–∏—Å–∞–Ω–∏–µ –¢–∏–ø–∞ 11 –¥–ª—è –£—Å–ª—É–≥–∏ 4 –≤ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ 2.",
            rules: ["https://example4.com"],
          },
          // ... (–¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã)
        ],
      },
      // ... (–¥—Ä—É–≥–∏–µ —É—Å–ª—É–≥–∏)
    ],
  },
};


    const categorySelect = document.getElementById("category");
    const serviceSelect = document.getElementById("service");
    const typeSelect = document.getElementById("type");
    const descriptionGroup = document.getElementById("description-group");
    const descriptionElement = document.getElementById("description");
    const linkGroup = document.getElementById("link-group");
    const priceValue = document.getElementById("priceValue");

    for (const categoryId in categoriesData) {
      const option = document.createElement("option");
      option.value = categoryId;
      option.textContent = categoriesData[categoryId].name;
      categorySelect.appendChild(option);
    }

    categorySelect.addEventListener("change", updateServiceOptions);
    serviceSelect.addEventListener("change", updateTypeOptions);
    typeSelect.addEventListener("change", updateDescription);
    priceValue .addEventListener("change", updatePrice);
    typeSelect.addEventListener("change", () => linkGroup.style.display = "block");

    function updateServiceOptions() {
      const selectedCategoryId = categorySelect.value;
      const selectedCategory = categoriesData[selectedCategoryId];
      updateSelectOptions(serviceSelect, selectedCategory.services);
      updateSelectOptions(typeSelect, []);
      updateDescription();
updateQuantityMin();
      linkGroup.style.display = "block";
resetQuantity();
updatePrice();
    }
        const quantityRange = document.getElementById("quantity");
        const quantityValue = document.getElementById("quantityValue");

quantityRange.addEventListener("input", () => {
  const enteredQuantity = parseInt(quantityRange.value, 10);
  const minQuantity = parseInt(quantityRange.min, 10);

  if (enteredQuantity < minQuantity) {
    quantityRange.value = minQuantity;
    quantityValue.value = minQuantity;
  } else {
    quantityValue.value = enteredQuantity;
  }

  updatePrice(); // Update the price when the quantity changes
updateQuantityMin();
});

function resetQuantity() {
  quantityRange.value = quantityRange.min;
  quantityValue.value = quantityRange.min;
}

function updateTypeOptions() {
  const selectedCategoryId = categorySelect.value;
  const selectedServiceValue = serviceSelect.value;
  const selectedCategory = categoriesData[selectedCategoryId];

  if (selectedCategory) {
    const selectedService = selectedCategory.services.find(
      (service) => service.value === selectedServiceValue
    );

    if (selectedService) {
      updateSelectOptions(typeSelect, selectedService.types);
      updateDescription();
updateQuantityMin();
updateQuantityMax();
resetQuantity();
updatePrice();
      return;
    }
  }

  // –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∏–ª–∏ —É—Å–ª—É–≥–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã, –æ—á–∏—Å—Ç–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Ç–∏–ø–æ–≤.
updateSelectOptions(typeSelect, []);
updateQuantityMin();
updateQuantityMax();
updateDescription();
resetQuantity();
updatePrice();
}

    function updateDescription() {
      const selectedCategoryId = categorySelect.value;
      const selectedServiceValue = serviceSelect.value;
      const selectedTypeValue = typeSelect.value;
      const selectedCategory = categoriesData[selectedCategoryId];

      if (selectedCategory) {
        const selectedService = selectedCategory.services.find(
          (service) => service.value === selectedServiceValue
        );

        if (selectedService) {
          const selectedType = selectedService.types.find(
            (type) => type.value === selectedTypeValue
          );

          if (selectedType) {
            descriptionElement.textContent = selectedType.description;
            document.getElementById("description").innerHTML = selectedType.description;
updateQuantityMin();
updateQuantityMax();
            descriptionGroup.style.display = "block";
resetQuantity();
updatePrice();
            return;
          }
        }
      }
updateQuantityMin();
updateQuantityMax();
      descriptionGroup.style.display = "none";
resetQuantity();
updatePrice();
    }

    function updateSelectOptions(selectElement, options) {
      selectElement.innerHTML = "";
      const defaultOption = document.createElement("option");
      defaultOption.value = "";
      defaultOption.textContent = "–í—ã–±–µ—Ä–∏—Ç–µ...";
      selectElement.appendChild(defaultOption);

      options.forEach((option) => {
        const optionElement = document.createElement("option");
        optionElement.value = option.value;
        optionElement.textContent = option.label;
        selectElement.appendChild(optionElement);
      });
    }

function updatePrice() {
  const selectedCategoryKey = categorySelect.value;
  const selectedServiceValue = serviceSelect.value;
  const selectedTypeValue = typeSelect.value;
  const selectedCategory = categoriesData[selectedCategoryKey];

  if (selectedCategory) {
    const selectedService = selectedCategory.services.find(
      (service) => service.value === selectedServiceValue
    );

    if (selectedService) {
      const selectedType = selectedService.types.find(
        (type) => type.value === selectedTypeValue
      );

      if (selectedType) {
        const quantity = parseInt(quantityRange.value, 10);
        const minQuantity = parseInt(quantityRange.min, 10);
        const maxQuantity = parseInt(quantityRange.max, 10);
        const pricePerUnit = selectedType.price || 0;
        const validQuantity = Math.max(minQuantity, Math.min(maxQuantity, quantity));
        const totalPrice = validQuantity * pricePerUnit;
        priceValue.textContent = totalPrice;
      }
    }
  }
}

function updateQuantityMin() {
  const selectedCategoryId = categorySelect.value;
  const selectedServiceValue = serviceSelect.value;
  const selectedTypeValue = typeSelect.value;
  const selectedCategory = categoriesData[selectedCategoryId];

  let minQuantity = 1; // Default minimum quantity

  if (selectedCategory) {
    const selectedService = selectedCategory.services.find(
      (service) => service.value === selectedServiceValue
    );

    if (selectedService) {
      const selectedType = selectedService.types.find(
        (type) => type.value === selectedTypeValue
      );

      if (selectedType && selectedType.minQuantity !== undefined) {
        minQuantity = selectedType.minQuantity;
      }
    }
  }

  quantityRange.min = minQuantity; // Update the minimum attribute of the range input

  // Reset the quantity to the minimum if the current value is less than the new minimum
  if (parseInt(quantityRange.value, 10) < minQuantity) {
    quantityRange.value = minQuantity;
    quantityValue.value = minQuantity;
  }

  document.getElementById("quantityMin").textContent = minQuantity; // Display the minimum quantity to the user
}

function updateQuantityMax() {
  const selectedCategoryId = categorySelect.value;
  const selectedServiceValue = serviceSelect.value;
  const selectedTypeValue = typeSelect.value;
  const selectedCategory = categoriesData[selectedCategoryId];

  let maxQuantity = 100; // Default maximum quantity

  if (selectedCategory) {
    const selectedService = selectedCategory.services.find(
      (service) => service.value === selectedServiceValue
    );

    if (selectedService) {
      const selectedType = selectedService.types.find(
        (type) => type.value === selectedTypeValue
      );

      if (selectedType && selectedType.maxQuantity !== undefined) {
        maxQuantity = selectedType.maxQuantity;
      }
    }
  }

  quantityRange.max = maxQuantity; // Update the maximum attribute of the range input
  document.getElementById("quantityMax").textContent = maxQuantity; // Display the maximum quantity to the user
}

    function sendDataToServer(categoryId, service, type) {
tg.MainButton.textColor = "#FFFFFF";
tg.MainButton.color = "#FF00FF";
      const link = document.getElementById("link").value;
      const quantity = document.getElementById("quantity").value;

      const isUrlValid = checkUrlValidity(categoryId, service, type, link);
      const resultElement = document.getElementById("result");

      if (isUrlValid) {
        resultElement.innerHTML = "–°—Å—ã–ª–∫–∞ –¥–æ–ø—É—Å—Ç–∏–º–∞. –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä...";
        tg.MainButton.setText("–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!");
        tg.MainButton.show();
        const selectedCategory = categoriesData[categoryId];
        const selectedService = selectedCategory.services.find(s => s.value === service);
        const selectedType = selectedService.types.find(t => t.value === type);


        const formData = {
            categoryId: categoryId,
            categoryLabel: selectedCategory.name,
            service: service,
            serviceLabel: selectedService.label,
            type: type,
            typeLabel: selectedType.label,
            link: link,
            quantity: quantity,
          price: selectedType.price * quantity
          
        };

        tg.sendData(JSON.stringify(formData));
      } else {
        resultElement.innerHTML =
          "–°—Å—ã–ª–∫–∞ –Ω–µ –¥–æ–ø—É—Å—Ç–∏–º–∞ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —É—Å–ª—É–≥–∏ –∏ —Ç–∏–ø–∞.";
      }
    }

function checkUrlValidity(categoryId, service, type, link) {
  const selectedCategory = categoriesData[categoryId];

  if (selectedCategory) {
    const selectedService = selectedCategory.services.find(
      (s) => s.value === service
    );

    if (selectedService) {
      const selectedType = selectedService.types.find(
        (t) => t.value === type
      );

      if (selectedType) {
        const rules = selectedType.rules;

        for (const rule of rules) {
          if (link.includes(rule)) {
            return true;
          }
        }
      }
    }
  }

  return false;
}


    // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è submit —Ñ–æ—Ä–º—ã
    document.getElementById("order-form").addEventListener("submit", function (event) {
      event.preventDefault(); // –û—Ç–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã
      const categoryId = categorySelect.value;
      const service = serviceSelect.value;
      const type = typeSelect.value;
      sendDataToServer(categoryId, service, type);
    });

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ä–º—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    updateServiceOptions();
  </script>
</body>
</html>
